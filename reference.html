<p>Rultor is configured solely through the YAML <code>.rultor.yml</code> file stored in the
root directory of your Github repository. There is no control or management
panel. Everything you want to say to Rultor is placed into your <code>.rultor.yml</code>
file.</p>

<p>This page contains a complete reference of commands in alphabetic order.</p>

<p>BTW, you can see a real-life configuration in <a href="https://github.com/jcabi/jcabi">jcabi</a> project:
<a href="https://github.com/jcabi/jcabi/blob/master/.rultor.yml"><code>rultor.yml</code></a>.</p>

<h2 id="assets">Assets</h2>

<p>Very often, you want to add secret files to the directory of your build, right
before it starts. For example, a file with database credentials that should be
deployed to production. You don&#39;t want to keep this file in the main repository
since it contains sensitive information, not intended to be accessible by all
programmers.</p>

<p>Put it into another <em>private</em> Github repository and inform Rultor that he has to
fetch it from there:</p>

<div class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="l-Scalar-Plain">assets</span><span class="p-Indicator">:</span>
  <span class="l-Scalar-Plain">secret.xml</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">yegor256/secret-repo#assets/settings.xml</span></code></pre></div>

<p>This configuration tells Rultor that needs to fetch <code>assets/settings.xml</code> from
<code>yegor256/secret-repo</code> and place it into the <code>secret.xml</code> file right before
starting a build.</p>

<p>Keep in mind that every builds starts in <code>repo</code> directory, while assets are
placed one folder up in the directory tree. This is how the directory layout
looks:</p>

<div class="highlight"><pre><code class="language-text" data-lang="text">.
..
run.sh
pid
status
stdout
secret.xml
repo/
  .rultor.yml
  pom.xml
  ...your other files...</code></pre></div>

<p>Don&#39;t forget to add <a href="https://github.com/rultor">@rultor</a> to the list of
collaborators in your private repository. Otherwise Rultor won&#39;t be
able to fetch anything from it.</p>

<h2 id="docker-image">Docker Image</h2>

<p>The default Docker image used for all commands is <a href="https://registry.hub.docker.com/u/yegor256/rultor/"><code>yegor256/rultor</code></a>.</p>

<p>You can change it to, say, <code>ubuntu:12.10</code>:</p>

<div class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="l-Scalar-Plain">docker</span><span class="p-Indicator">:</span>
  <span class="l-Scalar-Plain">image</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">ubuntu:12.10</span></code></pre></div>

<h2 id="readers">Readers</h2>

<p>By default, anyone can see your build logs. This may not be desired
for private projects. To grant access to your logs only for
a selected list of users, use this construct:</p>

<div class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="l-Scalar-Plain">readers</span><span class="p-Indicator">:</span>
  <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">urn:github:526301</span>
  <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">urn:github:8086956</span>
  <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">...</span></code></pre></div>

<p>Every user is specified as a URN, where his Github account number
stays right after <code>urn:github:</code>. You can get your Github account number
by logging into <a href="http://www.rultor.com">www.rultor.com</a>
and moving mouse over your name, at the
top of the page.</p>

<h2 id="merge,-deploy,-release">Merge, Deploy, Release</h2>

<p>Three commands <code>merge</code>, <code>deploy</code> and <code>release</code> are configured similarly in <code>.rultor.yml</code>. For example:</p>

<div class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="l-Scalar-Plain">merge</span><span class="p-Indicator">:</span> <span class="c1"># or &quot;deploy&quot; or &quot;release&quot;</span>
  <span class="l-Scalar-Plain">commanders</span><span class="p-Indicator">:</span>
    <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">jeff</span>
    <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">walter</span>
  <span class="l-Scalar-Plain">env</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">MAVEN_OPTS</span><span class="p-Indicator">:</span> <span class="s">&quot;-XX:MaxPermSize=256m</span><span class="nv"> </span><span class="s">-Xmx512m&quot;</span>
  <span class="l-Scalar-Plain">script</span><span class="p-Indicator">:</span>
    <span class="p-Indicator">-</span> <span class="s">&quot;sudo</span><span class="nv"> </span><span class="s">apt-get</span><span class="nv"> </span><span class="s">install</span><span class="nv"> </span><span class="s">graphviz&quot;</span>
    <span class="p-Indicator">-</span> <span class="s">&quot;mvn</span><span class="nv"> </span><span class="s">clean</span><span class="nv"> </span><span class="s">install&quot;</span></code></pre></div>

<p>Environment variables have to be configured, as an associative array with names
of variables as keys, in the <code>env</code> property.</p>

<p>Executable script is configured as a list of texts. They will be executed one by
one. If any of them fails, execution stops.</p>

<p>The list of Github accounts able to give commands to Rultor is specified in
<code>commanders</code>. By default, only Github repository collaborators can give
commands. Configured commanders don&#39;t replace collaborators. In other words,
Github collaborators <em>and</em> accounts mentioned here are allowed to give commands.</p>
